{"version":3,"sources":["./src/app/pages/lockpattern-modal/lockpattern-modal.page.scss","./src/app/pages/lockpattern-modal/lockpattern-modal.page.ts","./node_modules/patternlock/lib/util.js","./node_modules/patternlock/lib/PatternLock.js","./src/app/pages/lockpattern-modal/lockpattern-modal.page.html"],"names":[],"mappings":"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AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,sCAAsC;;AAEtC;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iFAAiF,uBAAuB;;AAExG;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,uBAAuB;AAC5C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,iIAAiI,gCAAgC;;AAEjK;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,eAAe;;AAEnD;AACA;;AAEA;AACA,0BAA0B,eAAe;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,iFAAiF,6BAA6B,8BAA8B,iCAAiC;AAC7K;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;;AC1iBA;AAAe,owBAAqsB,cAAc,iNAAiN,E","file":"default~pages-home-home-module~pages-lockpattern-modal-lockpattern-modal-module.js","sourcesContent":["export default \".form-list {\\n  margin: 12px 5px 12px 5px;\\n  padding: 0;\\n}\\n\\n#patternContainer {\\n  margin: 10px auto 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvY2twYXR0ZXJuLW1vZGFsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0VBQ0EsVUFBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7QUFDRiIsImZpbGUiOiJsb2NrcGF0dGVybi1tb2RhbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1saXN0IHtcbiAgbWFyZ2luOiAxMnB4IDVweCAxMnB4IDVweDtcbiAgcGFkZGluZzogMDtcbn1cblxuI3BhdHRlcm5Db250YWluZXIge1xuICBtYXJnaW46IDEwcHggYXV0byAwcHhcbn1cbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavController } from '@ionic/angular';\nimport PatternLock from \"patternlock\";\nimport { ClooneproviderService } from '../../services/clooneprovider.service';\n\n@Component({\n  selector: 'app-lockpattern-modal',\n  templateUrl: './lockpattern-modal.page.html',\n  styleUrls: ['./lockpattern-modal.page.scss'],\n})\nexport class LockpatternModalPage implements OnInit {\n\n  public lockPattern: any = '';\n  // public getLockPattern: any = '';\n\n  constructor(\n    public navCtrl: NavController,\n    public modalCtrl: ModalController,\n    private clooneprovider: ClooneproviderService,\n  ) { }\n\n  ngOnInit() {\n    this.lockPattern = new PatternLock('#patternContainer',{\n      onDraw(pattern){\n        console.log(pattern);\n      }\n    })\n  }\n\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalCtrl.dismiss({\n      'dismissed': true\n    });\n  }\n\n  saveLockPattern(){\n    this.clooneprovider.pattern = this.lockPattern.getPattern();\n    console.log('Saved lock pattern: ',this.clooneprovider.pattern);\n    this.dismiss()\n  }\n\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.noop = noop;\nexports.toArray = toArray;\nexports.assign = assign;\nexports.css = css;\nexports.addClass = addClass;\nexports.removeClass = removeClass;\nexports.remove = remove;\nexports.createDom = createDom;\nexports.getLengthAngle = getLengthAngle;\nfunction noop() {}\n\nfunction toArray(list) {\n  if (!(list instanceof NodeList || list instanceof HTMLCollection)) return [list];\n  return Array.prototype.slice.call(list);\n}\n\nfunction assign(target) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  rest.forEach(function (obj) {\n    Object.keys(obj).forEach(function (key) {\n      target[key] = obj[key]; // eslint-disable-line no-param-reassign\n    });\n  });\n  return target;\n}\n\nfunction css(element, properties) {\n  if (typeof properties === 'string') {\n    return window.getComputedStyle(element)[properties];\n  }\n\n  Object.keys(properties).forEach(function (key) {\n    var value = properties[key];\n    element.style[key] = value; // eslint-disable-line no-param-reassign\n  });\n\n  return undefined;\n}\n\nfunction addClass(el, className) {\n  var classNameAry = className.split(' ');\n\n  if (classNameAry.length > 1) {\n    classNameAry.forEach(function (classItem) {\n      return addClass(el, classItem);\n    });\n  } else if (el.classList) {\n    el.classList.add(className);\n  } else {\n    el.className += ' ' + className; // eslint-disable-line no-param-reassign\n  }\n}\n\nfunction removeClass(el, className) {\n  var classNameAry = className.split(' ');\n  if (classNameAry.length > 1) {\n    classNameAry.forEach(function (classItem) {\n      return removeClass(el, classItem);\n    });\n  } else if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' '); // eslint-disable-line no-param-reassign\n  }\n}\n\nfunction remove(nodes) {\n  toArray(nodes).forEach(function (el) {\n    el.parentNode.removeChild(el);\n  });\n}\n\nfunction createDom(str) {\n  var div = document.createElement('div');\n  div.innerHTML = str;\n  return div.children[0];\n}\n\n// return height and angle for lines\nfunction getLengthAngle(x1, x2, y1, y2) {\n  var xDiff = x2 - x1;\n\n  var yDiff = y2 - y1;\n\n  return {\n    length: Math.ceil(Math.sqrt(xDiff * xDiff + yDiff * yDiff)),\n    angle: Math.round(Math.atan2(yDiff, xDiff) * 180 / Math.PI)\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = require('./util');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar privateMap = new WeakMap();\n\nvar PatternLockInternal = function () {\n  function PatternLockInternal() {\n    _classCallCheck(this, PatternLockInternal);\n\n    this.holder = null;\n    this.option = null;\n    this.mapperFunc = _util.noop;\n    this.wrapLeft = 0;\n    this.wrapTop = 0;\n    this.disabled = false;\n    this.patternAry = [];\n    this.lastPosObj = [];\n    this.rightPattern = null;\n    this.onSuccess = _util.noop;\n    this.onError = _util.noop;\n    this.pattCircle = null;\n    this.lineX1 = 0;\n    this.lineY1 = 0;\n    this.line = null;\n    this.lastPosObj = null;\n  }\n\n  _createClass(PatternLockInternal, [{\n    key: 'getIdxFromPoint',\n    value: function getIdxFromPoint(x, y) {\n      var option = this.option;\n      var matrix = option.matrix,\n          margin = option.margin;\n\n\n      var xi = x - this.wrapLeft;\n      var yi = y - this.wrapTop;\n\n      var plotLn = option.radius * 2 + margin * 2;\n\n      var qsntX = Math.ceil(xi / plotLn);\n      var qsntY = Math.ceil(yi / plotLn);\n\n      var remX = xi % plotLn;\n      var remY = yi % plotLn;\n\n      var idx = null;\n\n      if (qsntX <= matrix[1] && qsntY <= matrix[0] && remX > margin * 2 && remY > margin * 2) {\n        idx = (qsntY - 1) * matrix[1] + qsntX;\n      }\n\n      return {\n        idx: idx,\n        i: qsntX,\n        j: qsntY,\n        x: xi,\n        y: yi\n      };\n    }\n  }, {\n    key: 'markPoint',\n    value: function markPoint(elm, pattId) {\n      // add the current element on pattern\n      (0, _util.addClass)(elm, 'hovered');\n\n      // push pattern on array\n      this.patternAry.push(pattId);\n\n      this.lastElm = elm;\n    }\n\n    // method to add lines between two element\n\n  }, {\n    key: 'addLine',\n    value: function addLine(posObj) {\n      var patternAry = this.patternAry,\n          option = this.option;\n\n      // add start point for line\n\n      var lineOnMove = option.lineOnMove,\n          margin = option.margin,\n          radius = option.radius;\n\n\n      var newX = (posObj.i - 1) * (2 * margin + 2 * radius) + 2 * margin + radius;\n      var newY = (posObj.j - 1) * (2 * margin + 2 * radius) + 2 * margin + radius;\n\n      if (patternAry.length > 1) {\n        // to fix line\n        var _getLengthAngle = (0, _util.getLengthAngle)(this.lineX1, newX, this.lineY1, newY),\n            length = _getLengthAngle.length,\n            angle = _getLengthAngle.angle;\n\n        (0, _util.css)(this.line, {\n          width: length + 10 + 'px',\n          transform: 'rotate(' + angle + 'deg)'\n        });\n\n        if (!lineOnMove) (0, _util.css)(this.line, { display: 'block' });\n      }\n\n      // to create new line\n      var line = (0, _util.createDom)('<div class=\"patt-lines\" style=\"top:' + (newY - 5) + 'px; left: ' + (newX - 5) + 'px;\"></div>');\n\n      this.line = line;\n      this.lineX1 = newX;\n      this.lineY1 = newY;\n      // add on dom\n\n      this.holder.appendChild(line);\n      if (!lineOnMove) (0, _util.css)(this.line, { display: 'none' });\n    }\n\n    // add direction on point and line\n\n  }, {\n    key: 'addDirectionClass',\n    value: function addDirectionClass(curPos) {\n      var point = this.lastElm,\n          line = this.line,\n          lastPos = this.lastPosObj;\n\n\n      var direction = [];\n\n      if (curPos.j - lastPos.j > 0) {\n        direction.push('s');\n      } else if (curPos.j - lastPos.j < 0) {\n        direction.push('n');\n      }\n\n      if (curPos.i - lastPos.i > 0) {\n        direction.push('e');\n      } else if (curPos.i - lastPos.i < 0) {\n        direction.push('w');\n      }\n\n      direction = direction.join('-');\n\n      if (direction) {\n        var className = direction + ' dir';\n        (0, _util.addClass)(point, className);\n        (0, _util.addClass)(line, className);\n      }\n    }\n  }]);\n\n  return PatternLockInternal;\n}();\n\nvar PatternLock = function () {\n  function PatternLock(selector) {\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PatternLock);\n\n    _initialiseProps.call(this);\n\n    var iObj = new PatternLockInternal();\n\n    var holder = document.querySelector(selector);\n\n    // if holder is not present return\n    if (!holder || holder.length === 0) return;\n\n    // optimizing options\n    var defaultsFixes = {\n      onDraw: _util.noop\n    };\n\n    var matrix = option.matrix;\n\n    if (matrix && matrix[0] * matrix[1] > 9) defaultsFixes.delimiter = ',';\n\n    iObj.option = (0, _util.assign)({}, PatternLock.defaults, defaultsFixes, option);\n\n    // add a mapper function\n    var mapper = iObj.option.mapper;\n\n    if ((typeof mapper === 'undefined' ? 'undefined' : _typeof(mapper)) === 'object') {\n      iObj.mapperFunc = function (idx) {\n        return mapper[idx];\n      };\n    } else if (typeof mapper === 'function') {\n      iObj.mapperFunc = mapper;\n    } else {\n      iObj.mapperFunc = _util.noop;\n    }\n\n    // delete mapper from option object\n    iObj.option.mapper = null;\n    iObj.holder = holder;\n\n    //set object to private map\n    privateMap.set(this, iObj);\n\n    //render\n    this._render();\n\n    // add class on holder\n    (0, _util.addClass)(holder, 'patt-holder');\n\n    // change offset property of holder if it does not have any property\n    if ((0, _util.css)(holder, 'position') === 'static') (0, _util.css)(holder, { position: 'relative' });\n\n    // assign event\n    holder.addEventListener('touchstart', this._onStart);\n    holder.addEventListener('mousedown', this._onStart);\n  }\n\n  // get drawn pattern as string\n\n\n  _createClass(PatternLock, [{\n    key: 'getPattern',\n    value: function getPattern() {\n      var _privateMap$get = privateMap.get(this),\n          patternAry = _privateMap$get.patternAry,\n          option = _privateMap$get.option;\n\n      return (patternAry || []).join(option.delimiter);\n    }\n\n    // method to draw a pattern dynamically\n\n  }, {\n    key: 'setPattern',\n    value: function setPattern(pattern) {\n      var iObj = privateMap.get(this);\n\n      var option = iObj.option;\n      var matrix = option.matrix,\n          margin = option.margin,\n          radius = option.radius,\n          enableSetPattern = option.enableSetPattern,\n          delimiter = option.delimiter;\n\n      // allow to set password manually only when enable set pattern option is true\n\n      if (!enableSetPattern) return;\n\n      // check if pattern is string break it with the delimiter\n      var patternAry = typeof pattern === 'string' ? pattern.split(delimiter) : pattern;\n\n      this.reset();\n      iObj.wrapLeft = 0;\n      iObj.wrapTop = 0;\n\n      for (var i = 0; i < patternAry.length; i += 1) {\n        var idx = patternAry[i] - 1;\n\n        var x = idx % matrix[1];\n        var y = Math.floor(idx / matrix[1]);\n\n        var clientX = x * (2 * margin + 2 * radius) + 2 * margin + radius;\n        var clientY = y * (2 * margin + 2 * radius) + 2 * margin + radius;\n\n        this._onMove.call(null, {\n          clientX: clientX,\n          clientY: clientY,\n          preventDefault: _util.noop\n        }, this);\n      }\n    }\n\n    // to temporary enable disable plugin\n\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var iObj = privateMap.get(this);\n\n      iObj.disabled = false;\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var iObj = privateMap.get(this);\n\n      iObj.disabled = true;\n    }\n\n    // reset pattern lock\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      var iObj = privateMap.get(this);\n\n      // to remove lines and class from each points\n      (0, _util.toArray)(iObj.pattCircle).forEach(function (el) {\n        return (0, _util.removeClass)(el, 'hovered dir s n w e s-w s-e n-w n-e');\n      });\n      (0, _util.remove)(iObj.holder.querySelectorAll('.patt-lines'));\n\n      // add/reset a array which capture pattern\n      iObj.patternAry = [];\n\n      // remove last Obj\n      iObj.lastPosObj = null;\n\n      // remove error class if added\n      (0, _util.removeClass)(iObj.holder, 'patt-error');\n    }\n\n    // to display error if pattern is not drawn correct\n\n  }, {\n    key: 'error',\n    value: function error() {\n      var iObj = privateMap.get(this);\n\n      (0, _util.addClass)(iObj.holder, 'patt-error');\n    }\n\n    // to check the drawn pattern against given pattern\n\n  }, {\n    key: 'checkForPattern',\n    value: function checkForPattern(pattern, success, error) {\n      var iObj = privateMap.get(this);\n\n      iObj.rightPattern = pattern;\n      iObj.onSuccess = success || _util.noop;\n      iObj.onError = error || _util.noop;\n    }\n  }, {\n    key: '_render',\n    value: function _render() {\n      var iObj = privateMap.get(this);\n      var option = iObj.option,\n          holder = iObj.holder;\n      var matrix = option.matrix,\n          margin = option.margin,\n          radius = option.radius;\n\n\n      var html = '<ul class=\"patt-wrap\" style=\"padding: ' + margin + 'px\">\\n      ' + Array.apply(undefined, _toConsumableArray({ length: matrix[0] * matrix[1] })).map(this._renderCircle).join('') + '\\n    </ul>';\n\n      holder.innerHTML = html;\n\n      (0, _util.css)(holder, {\n        width: matrix[1] * (radius * 2 + margin * 2) + margin * 2 + 'px',\n        height: matrix[0] * (radius * 2 + margin * 2) + margin * 2 + 'px'\n      });\n\n      // select pattern circle\n      iObj.pattCircle = iObj.holder.querySelectorAll('.patt-circ');\n    }\n  }, {\n    key: 'option',\n    value: function option(key, val) {\n      var _privateMap$get2 = privateMap.get(this),\n          option = _privateMap$get2.option;\n\n      // for set methods\n\n\n      if (val === undefined) {\n        return option[key];\n      }\n      // for setter\n\n      option[key] = val;\n      if (key === 'margin' || key === 'matrix' || key === 'radius') {\n        this._render();\n      }\n\n      return this;\n    }\n  }]);\n\n  return PatternLock;\n}();\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this._onStart = function (e) {\n    e.preventDefault();\n    var iObj = privateMap.get(_this);\n    var holder = iObj.holder;\n\n\n    if (iObj.disabled) return;\n\n    // check if pattern is visible or not\n    if (!iObj.option.patternVisible) {\n      (0, _util.addClass)(iObj.holder, 'patt-hidden');\n    }\n\n    _this.moveEvent = e.type === 'touchstart' ? 'touchmove' : 'mousemove';\n    _this.endEvent = e.type === 'touchstart' ? 'touchend' : 'mouseup';\n\n    // assign events\n    holder.addEventListener(_this.moveEvent, _this._onMove);\n\n    document.addEventListener(_this.endEvent, _this._onEnd);\n\n    // set pattern offset\n    var wrap = iObj.holder.querySelector('.patt-wrap');\n\n    var offset = wrap.getBoundingClientRect();\n    iObj.wrapTop = offset.top;\n    iObj.wrapLeft = offset.left;\n\n    // reset pattern\n    _this.reset();\n  };\n\n  this._onMove = function (e) {\n    e.preventDefault();\n    var iObj = privateMap.get(_this);\n    var option = iObj.option,\n        patternAry = iObj.patternAry;\n\n\n    var x = e.clientX || e.touches[0].clientX;\n    var y = e.clientY || e.touches[0].clientY;\n\n    var li = iObj.pattCircle;\n    var posObj = iObj.getIdxFromPoint(x, y);\n    var idx = posObj.idx;\n\n    var pattId = iObj.mapperFunc(idx) || idx;\n\n    if (patternAry.length > 0) {\n      var _getLengthAngle2 = (0, _util.getLengthAngle)(iObj.lineX1, posObj.x, iObj.lineY1, posObj.y),\n          length = _getLengthAngle2.length,\n          angle = _getLengthAngle2.angle;\n\n      (0, _util.css)(iObj.line, {\n        width: length + 10 + 'px',\n        transform: 'rotate(' + angle + 'deg)'\n      });\n    }\n\n    if (idx && (option.allowRepeat && patternAry[patternAry.length - 1] !== pattId || patternAry.indexOf(pattId) === -1)) {\n      var elm = li[idx - 1];\n\n      // mark if any points are in middle of previous point and current point, if it does check them\n      if (iObj.lastPosObj) {\n        var lastPosObj = iObj.lastPosObj;\n\n\n        var xDelta = posObj.i - lastPosObj.i > 0 ? 1 : -1;\n        var yDelta = posObj.j - lastPosObj.j > 0 ? 1 : -1;\n        var ip = lastPosObj.i;\n        var jp = lastPosObj.j;\n        var iDiff = Math.abs(posObj.i - ip);\n        var jDiff = Math.abs(posObj.j - jp);\n\n        while (iDiff === 0 && jDiff > 1 || jDiff === 0 && iDiff > 1 || jDiff === iDiff && jDiff > 1) {\n          ip = iDiff ? ip + xDelta : ip;\n          jp = jDiff ? jp + yDelta : jp;\n          iDiff = Math.abs(posObj.i - ip);\n          jDiff = Math.abs(posObj.j - jp);\n\n          var nextIdx = (jp - 1) * option.matrix[1] + ip;\n          var nextPattId = iObj.mapperFunc(nextIdx) || nextIdx;\n\n          if (option.allowRepeat || patternAry.indexOf(nextPattId) === -1) {\n            // add direction to previous point and line\n            iObj.addDirectionClass({ i: ip, j: jp });\n\n            // mark a point added\n            iObj.markPoint(li[nextPattId - 1], nextPattId);\n\n            // add line between the points\n            iObj.addLine({ i: ip, j: jp });\n          }\n        }\n      }\n\n      // add direction to last point and line\n      if (iObj.lastPosObj) iObj.addDirectionClass(posObj);\n\n      // mark the initial point added\n      iObj.markPoint(elm, pattId);\n\n      // add initial line\n      iObj.addLine(posObj);\n\n      iObj.lastPosObj = posObj;\n    }\n  };\n\n  this._onEnd = function (e) {\n    e.preventDefault();\n    var iObj = privateMap.get(_this);\n    var option = iObj.option;\n\n\n    var pattern = iObj.patternAry.join(option.delimiter);\n\n    // remove hidden pattern class and remove event\n    iObj.holder.removeEventListener(_this.moveEvent, _this._onMove);\n    document.removeEventListener(_this.endEvent, _this._onEnd);\n    (0, _util.removeClass)(iObj.holder, 'patt-hidden');\n\n    if (!pattern) return;\n\n    // to remove last line\n    (0, _util.remove)(iObj.line);\n\n    option.onDraw(pattern);\n\n    if (iObj.rightPattern) {\n      if (pattern === iObj.rightPattern) {\n        iObj.onSuccess();\n      } else {\n        iObj.onError();\n        _this.error();\n      }\n    }\n  };\n\n  this._renderCircle = function () {\n    var _privateMap$get$optio = privateMap.get(_this).option,\n        margin = _privateMap$get$optio.margin,\n        radius = _privateMap$get$optio.radius;\n\n\n    return '<li \\n      class=\"patt-circ\"\\n      style=\"margin: ' + margin + 'px; width: ' + radius * 2 + 'px; height: ' + radius * 2 + 'px; border-radius: ' + radius + 'px;\"\\n    >\\n      <div class=\"patt-dots\"></div>\\n    </li>';\n  };\n};\n\nPatternLock.defaults = {\n  matrix: [3, 3],\n  margin: 20,\n  radius: 25,\n  patternVisible: true,\n  lineOnMove: true,\n  delimiter: '', // a delimiter between the pattern\n  enableSetPattern: false,\n  allowRepeat: false\n};\n\nexports.default = PatternLock;","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dismiss()\\\">Close</ion-button>\\n    </ion-buttons>\\n    <ion-title>Lock Pattern Pad</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-list class=\\\"form-list\\\">\\n      <div class=\\\"list list-inset\\\">\\n        <div class=\\\"ion-text-center\\\"> \\n          <ion-row>\\n            <ion-col>\\n              <div id=\\\"patternContainer\\\"></div>\\n            </ion-col>\\n          </ion-row>\\n        </div>\\n      </div>\\n      \\n      \\n      <div class=\\\"ion-text-center\\\">\\n        <ion-row>\\n          <ion-col>\\n            <ion-button class=\\\"ion-text-center\\\" style=\\\"height: 34px; width: 100px;\\\" color=\\\"danger\\\" (click)=\\\"saveLockPattern()\\\" >\\n              Save\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n    </ion-list>\\n  </ion-grid>\\n  \\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}